@if(notificacionsStatusService.statusMessage()){
  <div class="fixed mb-2 mr-2 right-0 bottom-0 z-100">
    <status-message></status-message>
  </div>

}

<div class="flex flex-col w-full justify-center gap-4 items-center">
  <!-- Gráfico 1: Proyectos por Usuario -->
  <div class="w-[70%]">
    <div
      class="bg-fablab-card-bg p-4 rounded-xl shadow border border-fablab-border"
    >
      <h2 class="text-fablab-primary font-bold mb-4">Proyectos por Mes</h2>
      <canvas id="proyectosPorUsuarioChart" #proyectosPorFechaChart></canvas>
    </div>
  </div>

  <!-- Gráfico 2: Proyectos por Usuario -->
  <div class="w-[70%] relative">
    @if(loadingData()){
      <div class="bg-gray-400/40 w-full h-full flex justify-center items-center absolute">
        <svg width="60" height="60" viewBox="0 0 50 50"><rect x="10" y="15" width="3" height="20" fill="#60A5FA"><animate attributeName="height" values="20;30;20;10;20" dur="1s" begin="0s" repeatCount="indefinite"></animate><animate attributeName="opacity" values="0.2;1;0.2" dur="1s" begin="0s" repeatCount="indefinite"></animate></rect><rect x="17" y="15" width="3" height="20" fill="#60A5FA"><animate attributeName="height" values="20;30;20;10;20" dur="1s" begin="0.1s" repeatCount="indefinite"></animate><animate attributeName="opacity" values="0.2;1;0.2" dur="1s" begin="0.1s" repeatCount="indefinite"></animate></rect><rect x="24" y="15" width="3" height="20" fill="#60A5FA"><animate attributeName="height" values="20;30;20;10;20" dur="1s" begin="0.2s" repeatCount="indefinite"></animate><animate attributeName="opacity" values="0.2;1;0.2" dur="1s" begin="0.2s" repeatCount="indefinite"></animate></rect><rect x="31" y="15" width="3" height="20" fill="#60A5FA"><animate attributeName="height" values="20;30;20;10;20" dur="1s" begin="0.30000000000000004s" repeatCount="indefinite"></animate><animate attributeName="opacity" values="0.2;1;0.2" dur="1s" begin="0.30000000000000004s" repeatCount="indefinite"></animate></rect><rect x="38" y="15" width="3" height="20" fill="#60A5FA"><animate attributeName="height" values="20;30;20;10;20" dur="1s" begin="0.4s" repeatCount="indefinite"></animate><animate attributeName="opacity" values="0.2;1;0.2" dur="1s" begin="0.4s" repeatCount="indefinite"></animate></rect></svg>
      </div>

    }
    <div
      class="bg-fablab-card-bg p-4 rounded-xl shadow border border-fablab-border flex flex-col"
    >
    <div class="flex justify-between">
      <h2 class="text-fablab-primary font-bold mb-4">Proyectos por Usuario</h2>
      <button class="btn w-[20%]" (click)="loadPPUData()">Cargar datos</button>
    </div>
      <canvas id="proyectosPorUsuarioChart" #proyectosPorUsuarioChart></canvas>
    </div>
  </div>
</div>

